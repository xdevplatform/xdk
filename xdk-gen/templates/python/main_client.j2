"""
Main client for the X API.

This module provides a client for interacting with the X API.
"""

import requests
import requests_oauthlib
from typing import Dict, List, Optional, Union, Any

{% for tag in tags %}
from .{{ tag|replace(" ", "_")|lower }}.client import {{ tag }}Client
{% endfor %}


class Client:
    """Client for interacting with the X API."""

    def __init__(self, api_key: str, api_secret: str, access_token: str, access_token_secret: str, base_url: str = "https://api.twitter.com"):
        """Initialize the X API client.

        Args:
            api_key: The API key for the X API.
            api_secret: The API secret for the X API.
            access_token: The access token for the X API.
            access_token_secret: The access token secret for the X API.
            base_url: The base URL for the X API.
        """
        self.session = requests.Session()
        self.base_url = base_url

        # Set up authentication
        self.session.auth = requests_oauthlib.OAuth1(
            api_key,
            api_secret,
            access_token,
            access_token_secret
        )

        # Initialize clients for each tag
        {% for tag in tags %}
        self.{{ tag|replace(" ", "_")|lower }} = {{ tag }}Client(self)
        {% endfor %} 